<div id="tickers" class="page-layout simple" fusePerfectScrollbar>

    <!-- HEADER -->
    <div class="sub-header p-6 blue-grey-200-bg" fxLayout="row" fxLayoutAlign="space-between center">

        <!-- BREADCRUMB -->
        <div class="breadcrumb text-truncate h1 pl-24 pt-12 pb-12" fxLayout="row" fxLayoutAlign="start center"
            *fuseIfOnDom [@animate]="{value:'*',params:{x:'50px'}}">
            Search Enquiries
        </div>
        <!-- / BREADCRUMB -->

        <!-- TOOLBAR -->
        <div class="toolbar" fxLayout="row" fxLayoutAlign="end">
            <button class="mr-8 btn" mat-raised-button color="accent" (click)="redirectToEnquiryReview()" [disabled]="_service.selectedLoanApplicationId == undefined">
                Enquiry Review
            </button>
        </div>
        <!-- / TOOLBAR -->

    </div>
    <!-- / HEADER -->

    <!-- SEARCH PANEL -->
    <div id="loan-enquiry" class="w-100-p p-16" fxLayout="column" fusePerfectScrollbar>
        <mat-expansion-panel [expanded]="expandPanel" hideToggle="false">
            <mat-expansion-panel-header>
                <mat-panel-title>
                    Enquiry List
                </mat-panel-title>
                <!--mat-panel-description>
                    Use the search form to filter data.
                </mat-panel-description-->
            </mat-expansion-panel-header>
            <form [formGroup]="enquirySearchForm">
                <div fxLayout="row">

                  <mat-form-field fxFlex="25">
                    <input matInput   [matDatepicker]="pickerFrom"  placeholder="Enquiry Date From" formControlName="enquiryDateFrom">
                    <mat-datepicker-toggle matSuffix [for]="pickerFrom"></mat-datepicker-toggle>
                    <mat-datepicker #pickerFrom></mat-datepicker>
                  </mat-form-field>

                  <mat-form-field fxFlex="25">
                    <input matInput   [matDatepicker]="pickerTo"  placeholder="Enquiry Date To" formControlName="enquiryDateTo">
                    <mat-datepicker-toggle matSuffix [for]="pickerTo"></mat-datepicker-toggle>
                    <mat-datepicker #pickerTo></mat-datepicker>
                  </mat-form-field>


                    <mat-form-field fxFlex="25">
                        <input matInput placeholder="Enquiry Number From" formControlName="enquiryNoFrom">
                    </mat-form-field>
                    <mat-form-field fxFlex="25">
                        <input matInput placeholder="Enquiry Number To" formControlName="enquiryNoTo">
                    </mat-form-field>
                </div>

                <div fxLayout="row">
                    <mat-form-field fxFlex="25">
                        <input matInput placeholder="Name of the Project" formControlName="projectName">
                    </mat-form-field>

                  <mat-form-field fxFlex="25">
                    <mat-select placeholder="Project Location (State)" formControlName="projectLocation"  >
                      <mat-option *ngFor="let state of states" [value]="state.code">
                        {{ state.value }}
                      </mat-option>
                    </mat-select>
                  </mat-form-field>

                  <mat-form-field fxFlex="25">
                    <mat-select placeholder="Loan Class" formControlName="loanClass"  >
                      <mat-option *ngFor="let loanClass of loanClasses" [value]="loanClass.code">
                        {{ loanClass.value }}
                      </mat-option>
                    </mat-select>

                  </mat-form-field>

                  <mat-form-field fxFlex="25">
                    <mat-select placeholder="Project Type" formControlName="projectType"  >
                      <mat-option *ngFor="let projectType of projectTypes" [value]="projectType.code">
                        {{ projectType.value }}
                      </mat-option>
                    </mat-select>
                  </mat-form-field>

                </div>
                <div fxLayout="row">


                  <mat-form-field fxFlex="25">
                    <mat-select placeholder="Financing Type" formControlName="financingType"  >
                      <mat-option *ngFor="let financingType of financingTypes" [value]="financingType.code">
                        {{ financingType.value }}
                      </mat-option>
                    </mat-select>
                  </mat-form-field>

                  <mat-form-field fxFlex="25">
                    <mat-select placeholder="Type of Assistance" formControlName="assistanceType"  >
                      <mat-option *ngFor="let assistanceType of assistanceTypes" [value]="assistanceType.code">
                        {{ financingType.value }}
                      </mat-option>
                    </mat-select>
                  </mat-form-field>

                </div>

                <div class="pt-12" fxLayout="row" fxLayoutAlign="left center">
                    <button class="mr-8" mat-raised-button type="button" color="accent" (click)="searchEnquiries()">
                        Search
                    </button>
                </div>
            </form>
        </mat-expansion-panel>
    </div>

    <!-- / SEARCH PANEL -->


    <!-- CONTENT -->
    <div class="content p-16">
        <div class="content-card mat-white-bg mat-elevation-z4" fusePerfectScrollbar style="width: 125%">
            <fuse-enquiry-search-list [enquiryList]="enquiryList"></fuse-enquiry-search-list>
        </div>


    </div>

  <!-- / CONTENT -->
</div>
